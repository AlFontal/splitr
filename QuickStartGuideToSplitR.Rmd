---
title: "Quick Start Guide to SplitR"
author: "Richard Iannone"
date: "June 19, 2014"
output: html_document
---

SplitR
======

SplitR is an R package that's great for conducting trajectory and dispersion modelling with [NOAA HYSPLIT](http://ready.arl.noaa.gov/HYSPLIT.php).

## Installation

Easy installation of SplitR from GitHub is entirely possible with the `devtools` package:

```{r}
# require(devtools)
# install_github('SplitR', 'rich-iannone')
```

## Description

SplitR allows you set up and run HYSPLIT in a very fast, easy, and organized manner. You can set up a few or, perhaps, thousands of trajectory or dispersion runs by using a single function. Because SplitR is an R interface to HYSPLIT, we can store output in data frames and take advantage of the vast selection of R packages to perform cluster analyses, generate and save plots, and more. This package simplifies the process of running HYSPLIT models by automating the downloading and storage of meteorological data files, providing a simple means to initiate a range of runs, and by providing outputs that can be easily applied to statistical analyses.

This package is in active development but is quite usable at present. Some of its features are:

- simple setup of trajectory and dispersion model runs (forward or backward)
- automated retrieval of meteorological data files
- organization of modelling presets and model output
- numerous batching options: set up models to run continuously with multiple start times throughout a single year, several years, or a predefined time range
- trajectory plotting and visualization of particle positions in dispersion runs

## Setup

Use of SplitR requires a basic installation of HYSPLIT, as obtained from the Air Resources Laboratory (ARL) of the National Oceanic and Atmospheric Administration (NOAA) [READY website](http://ready.arl.noaa.gov/HYSPLIT.php). 

For Windows installations, there are both [registered](http://ready.arl.noaa.gov/hyreg/HYSPLIT_pchysplit.php) and [unregistered](http://ready.arl.noaa.gov/HYSPLIT_hytrial.php) versions of HYSPLIT. The only difference in functionality between the two is that the unregistered version cannot perform model runs with forecast meteorological data. SplitR has the capability to perform forecast model runs so obtain the registered version if you intend to use that functionality. Regardless of version, both come with a standard installer that will place the main HYSPLIT folder (named 'hysplit') in the location of your choice. Within this main folder, there are 15 subdirectories.

For a Mac OS X installation, there is a [single distribution](http://ready.arl.noaa.gov/hyreg/HYSPLIT_applehysp.php) that has all functionality included.

Take note of the paths for the HYSPLIT executables and the working directory (in the subfolders 'exec' and 'working'). You can optionally create additional subfolders for locating HYSPLIT-ready meteorological data files, or, opt to place those in the HYSPLIT working directory.

## Example: HYSPLIT Trajectory Runs

To perform a series HYSPLIT trajectory model runs, use the SplitR `hysplit.trajectory` function:

```{r}
hysplit.trajectory(traj_name = "third",
                   start_lat_deg = 49.5, start_long_deg = -125.30364,
                   start_height_m_AGL = 5, simulation_duration_h = 24,
                   backtrajectory = TRUE, met_type = "gdas1",
                   vertical_motion_option = 0,
                   top_of_model_domain_m = 20000,
                   run_type = "range",
                   run_range = c("2012-03-15", "2012-03-16"),
                   daily_hours_to_start = c("00", "03", "06", "09", "12", "15", "18", "21"),
                   path_met_files = "/Users/riannone/Documents/SplitR/Met/",
                   path_output_files = "/Users/riannone/Documents/SplitR/Output/",
                   path_wd = "/Users/riannone/Documents/SplitR/Working/",
                   path_executable ="/Users/riannone/Documents/SplitR/Exec/")
```


